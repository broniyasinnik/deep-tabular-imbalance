dataset: "adult_ir100"
seed: 42
ir: 100
train_file: &train_file "./data/adult_ir100.tra.npz"
holdout_file: &holdout_file "./data/adult_ir100.hout.npz"
valid_file: &valid_file "./data/adult_ir100.val.npz"
test_file: &test_file "./data/adult_ir100.tst.npz"
smote_file: &smote_file "./data/adult_ir100.smt.npz"

model:
  input_dim: 14
  hiddens: [128, 16]

experiments:
  upsampling:
    epochs: 200
    batch_size: 128
    datasets:
      train:
        - *train_file
      valid:
        - *valid_file
    sampler:
      _target_: BalanceClassSampler
      mode: upsampling
    optimizer:
      _target_: Adam
      lr: 1.0e-2
      weight_decay: 5.0e-5
    scheduler:
      _target_: MultiStepLR
      milestones: [ 2 ]
      gamma: 0.3

  downsampling:
    num_epochs: 200
    batch_size: 128
    datasets:
      train:
        - *train_file
      valid:
        - *valid_file
    sampler:
      _target_: BalanceClassSampler
      mode: downsampling
    optimizer:
      _target_: Adam
      lr: 1.0e-2
      weight_decay: 5.0e-5
    scheduler:
      _target_: ReduceLROnPlateau
      mode: max
      min_lr: 1.0e-5
      patience: 1

  smote:
    num_epochs: 200
    batch_size: 128
    lr_model: 1.0e-2
    weight_decay: 5.0e-5
    datasets:
      train:
        - *train_file
        - *smote_file
      valid:
        - *valid_file
    optimizer:
      _target_: Adam
    scheduler:
      _target_: MultiStepLR
      milestones: [ 2 ]
      gamma: 0.3
  meta:
    num_epochs: 200
    batch_size: 128
    lr_model: 1.0e-2
    weight_decay: 5.0e-5
    lr_z: 1.0e+3
    lr_meta: 5.e-2
    lr_kde: 10

